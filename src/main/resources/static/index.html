<html>
<head>
<script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>

<script type="text/javascript" src="angular/angular.min.js"></script>
<script type="text/javascript" src="angular/angular-route.js"></script>
<script type="text/javascript" src="angular/angular-messages.js"></script>
<script type="text/javascript" src="angular/angular-animate.js"></script>
<script type="text/javascript" src="angular/angular-sanitize.js"></script>

<script type="text/javascript" src="ngtoast/dist/ngToast.js"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript" src="js/index.js"></script>

<link rel="stylesheet" type="text/css"
	href="css/bootstrap-theme.min.css">
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/index.css">
<link rel="stylesheet" href="ngtoast/dist/ngToast.css">
<link rel="stylesheet" href="ngtoast/dist/ngToast-animations.css">

</head>
<body>
	<div class="container-fluid" id="main" ng-app="petStoreApp"
		ng-controller="petStoreController">
		<toast></toast>
		<div class="col-md-8 col-md-offset-2" ng-init="load()">

			<div class="row">
				<fieldset>
					<legend>Search Pet In Store</legend>

					<table class="table table-hover">
						<tbody>
							<tr>
								<td>
									<div class="col-md-4 txtright">Enter Pet ID:</div>
									<div class="col-md-8">
										<input class="col-md-10" type="text" name="searchPetId"
											ng-model="searchPetId" required><br>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</fieldset>
			</div>

			<div class="row">
				<fieldset class="txtright">
					<button type="button" class="btn btn-default" id="search-pet-btn"
						ng-click="searchPetById()">Search Pet</button>
					<button type="button" class="btn btn-default" id="delete-pet-btn"
						ng-click="deleteCurrentPet()" ng-disabled="selectedPet == null">Delete
						Pet From Store</button>
					<button type="button" class="btn btn-default" id="add-pet-btn"
						data-toggle="modal" data-target="#addPetModal">Add Pet</button>
				</fieldset>
			</div>
			<div class="row">
				<fieldset>
					<legend>Pet Information</legend>

					<div ng-if="selectedPet != null">
						<table class="table table-hover">
							<tbody>
								<tr>
									<td>
										<div class="col-md-4 txtright">Name:</div>
										<div class="col-md-8">
											<input type="text" class="col-md-10" id="petName"
												name="petName" ng-model="selectedPet.name" disabled>
										</div>
									</td>
								</tr>

								<tr>
									<td>
										<div class="col-md-4 txtright">Status:</div>
										<div class="col-md-8">
											<input class="col-md-10" type="text" id="petStatus"
												name="petStatus" 
												ng-model="selectedPet.status" disabled>
										</div>
									</td>
								</tr>

								<tr>
									<td>
										<div class="col-md-4 txtright">Pictures:</div>
										<div class="col-md-8">
											<div ng-repeat="petImg in selectedPet.pictures">
												<img ng-src="{{ petImg }}"
													onError="this.src='/img/no-img.jpg'">
											</div>
										</div>
									</td>
								</tr>

								<tr>
									<td>
										<div class="col-md-4 txtright">Category:</div>
										<div class="col-md-8">
											<input class="col-md-10" type="text"
												ng-model="selectedPet.category.name" disabled>
										</div>
									</td>
								</tr>

								<tr>
									<td>
										<div class="col-md-4 txtright">Tags:</div>
										<div class="col-md-8">
											<input class="col-md-10" type="text"
												value="{{ formatTagsToString(selectedPet.tags) }}" 
												disabled>
										</div>
									</td>
								</tr>
							</tbody>
						</table>
					</div>

					<div ng-if="selectedPet == null">
						<table class="table table-hover">
							<tbody>
								<tr>
									<td>Try searching for a pet.</td>
								</tr>
							</tbody>
						</table>
					</div>
				</fieldset>
			</div>

			<div class="modal fade" id="addPetModal">
				<div class="modal-dialog modal-sm">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title">Add Pet To Store</h4>
						</div>

						<div class="modal-body">
							<table class="table table-hover">
								<tbody>
									<form action="#" id="addPetForm" name="addPetForm">
										<tr>
											<td>
												<div class="col-md-4 txtright">Name</div>
												<div class="col-md-8">
													<input name="addPetName" type="text"
														ng-model="petToAdd.name" pattern="[A-Za-z]+" 
														required>
												</div>
											</td>
										</tr>

										<tr>
											<td>
												<div class="col-md-4 txtright">Category</div>
												<div class="col-md-8">
													<select name="addPetCategory" ng-init="loadCategory()" 
														ng-model="petToAdd.category"
														ng-options="option.name for option in categoryOptions track by option.id">
													</select>
												</div>	
											</td>
										</tr>

										<tr>
											<td>
												<div class="col-md-4 txtright">Tags</div>
												<div class="col-md-8">
													<select name="addPetTags" ng-model="petToAdd.tags" ng-init="loadTag()" 
														ng-options="option.name for option in tagOptions track by option.id" 
														multiple>
													</select>
												</div>
											</td>
										</tr>

										<tr>
											<td>
												<div class="col-md-4 txtright">Photo URLs</div>
												<div class="col-md-8">
													<input type="text" ng-model="petToAdd.pictures" 
														name="addPetPhotoUrls" required>
												</div>
											</td>
										</tr>

										<tr>
											<td>
												<div class="col-md-4 txtright">Status</div>
												<div class="col-md-8">
													<select ng-model="petToAdd.status" 
														name="addPetStatus" required>
														<option ng-repeat="option in statusOptions"	
															value="{{ option }}">
															{{ option }}
														</option>
													</select>
												</div>
											</td>
										</tr>
									</form>
								</tbody>
							</table>
						</div>

						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal">
								Cancel
							</button>
							<button type="button" class="btn btn-primary" 
								ng-click="addPetToStore()" id="btn-add-pet-to-store">
								Add Pet
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
